import{h as i,C as b,W as xe,X as ye,Y as me,Z as fe,y as he,z as _e,P as we,L as Ce,E as Ae,_ as ke,s as Se,v as Pe,x as Le,$ as Re,K as Ue,a0 as P,a1 as je,j as c,k as e,q as B,O as De,R as Te,S as Ge,B as l,t as r,n as p,F as q,m as X,o as g}from"./vendor-ynwioZzL.js";import{a as m}from"./axios-CXavZ4ZS.js";import{_ as Fe}from"./main-BKbzgQvO.js";const _={getOverview(){return m.get("/admin/analytics/overview")},getUserGrowth(v="30d"){return m.get(`/admin/analytics/user-growth?range=${v}`)},getSubmissionActivity(v="30d"){return m.get(`/admin/analytics/submission-activity?range=${v}`)},getLearningPaths(){return m.get("/admin/analytics/learning-paths")},getChallengeDifficulty(){return m.get("/admin/analytics/challenge-difficulty")},getLessonPerformance(){return m.get("/admin/analytics/lesson-performance")},getSessionStats(){return m.get("/admin/analytics/session-stats")},getTopPerformers(v=5){return m.get(`/admin/analytics/top-performers?limit=${v}`)},getRecentActivity(v=5){return m.get(`/admin/analytics/recent-activity?limit=${v}`)},getUserStats(){return m.get("/admin/analytics/user-stats")}};function Me(){const v=i(!1),w=i(null),C=i({}),u=i([]),y=i({}),L=i({}),x=i([]),R=i({}),f=i([]),U=i({}),j=i([]),T=i([]);async function Y(o="30d"){try{v.value=!0,w.value=null;const n=[N(),G(o),F(o),W(),M(),A(),$(),h(),k()];await Promise.all(n)}catch(n){w.value=n.message,console.error("Failed to load analytics:",n)}finally{v.value=!1}}async function G(o){try{const n=await _.getUserGrowth(o);u.value=Array.isArray(n.data)?n.data:[],u.value.length>0&&(y.value={dailyNewUsers:u.value[u.value.length-1]?.new_users||0,weeklyNewUsers:u.value.slice(-7).reduce((d,S)=>d+(S.new_users||0),0),monthlyGrowthRate:H(u.value),totalUsers:u.value.reduce((d,S)=>d+(S.new_users||0),0)})}catch(n){throw console.error("Failed to load user growth:",n),u.value=[],y.value={},n}}async function F(o){try{const d=(await _.getSubmissionActivity(o)).data||{};L.value={totalSubmissions:d.totalSubmissions||0,passedSubmissions:d.passedSubmissions||0,failedSubmissions:d.failedSubmissions||0,successRate:d.successRate||0,dailyStats:Array.isArray(d.dailyStats)?d.dailyStats:[],languageUsage:Array.isArray(d.languageUsage)?d.languageUsage:[]}}catch(n){throw console.error("Failed to load submission activity:",n),L.value={totalSubmissions:0,passedSubmissions:0,failedSubmissions:0,successRate:0,dailyStats:[],languageUsage:[]},n}}async function M(){try{const n=(await _.getChallengeDifficulty()).data||{};R.value={overall:n.overall||{avg_pass_rate:0,avg_attempts:0},challenges:Array.isArray(n.challenges)?n.challenges:[]}}catch(o){throw console.error("Failed to load challenge difficulty:",o),R.value={overall:{avg_pass_rate:0,avg_attempts:0},challenges:[]},o}}async function $(){try{const n=(await _.getSessionStats()).data||{};U.value={dailyActivity:Array.isArray(n.dailyActivity)?n.dailyActivity:[],peakHours:Array.isArray(n.peakHours)?n.peakHours:[]}}catch(o){throw console.error("Failed to load session stats:",o),U.value={dailyActivity:[],peakHours:[]},o}}function H(o){if(!Array.isArray(o)||o.length<2)return 0;const n=o.slice(-1)[0]?.new_users||0,d=o.slice(-2)[0]?.new_users||0;return d===0?n>0?100:0:Math.round((n-d)/d*100)}async function N(){try{const o=await _.getOverview();C.value=o.data}catch(o){throw console.error("Failed to load platform overview:",o),o}}async function W(){try{const o=await _.getLearningPaths();x.value=Array.isArray(o.data)?o.data:[]}catch(o){throw console.error("Failed to load learning paths:",o),x.value=[],o}}async function A(){try{const o=await _.getLessonPerformance();f.value=Array.isArray(o.data)?o.data:[]}catch(o){throw console.error("Failed to load lesson performance:",o),f.value=[],o}}async function h(){try{const o=await _.getTopPerformers(5);j.value=Array.isArray(o.data)?o.data:[]}catch(o){throw console.error("Failed to load top performers:",o),j.value=[],o}}async function k(){try{const o=await _.getRecentActivity(5);T.value=Array.isArray(o.data)?o.data:[]}catch(o){throw console.error("Failed to load recent activity:",o),T.value=[],o}}return{loading:v,error:w,platformOverview:C,userGrowthData:u,userGrowthStats:y,submissionActivity:L,learningPathEngagement:x,challengeDifficulty:R,lessonPerformance:f,sessionAnalytics:U,topPerformers:j,recentActivity:T,loadAllAnalytics:Y,loadPlatformOverview:N,loadUserGrowth:G,loadSubmissionActivity:F,loadLearningPaths:W,loadChallengeDifficulty:M,loadLessonPerformance:A,loadSessionStats:$,loadTopPerformers:h,loadRecentActivity:k}}const $e={class:"min-h-screen bg-gray-50 p-6"},Ne={class:"mb-8"},We={class:"flex justify-between items-start"},Ee={class:"flex items-center gap-3"},Be={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},He={class:"flex items-center"},Ie={class:"text-red-800"},Oe={key:1,class:"flex justify-center items-center py-12"},Ve={key:2,class:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ze={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-200"},qe={class:"flex items-center justify-between"},Xe={class:"text-2xl font-bold text-gray-900"},Ye={class:"text-xs text-green-600 mt-2"},Ze={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-200"},Ke={class:"flex items-center justify-between"},Je={class:"text-2xl font-bold text-gray-900"},Qe={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-200"},et={class:"flex items-center justify-between"},tt={class:"text-2xl font-bold text-gray-900"},st={class:"text-xs text-green-600 mt-2"},ot={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-200"},at={class:"flex items-center justify-between"},rt={class:"text-2xl font-bold text-gray-900"},nt={class:"text-xs text-gray-500 mt-2"},lt={key:3,class:"grid grid-cols-1 xl:grid-cols-2 gap-8"},it={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},dt={class:"flex justify-between items-center mb-6"},ut={class:"flex gap-2"},ct={class:"grid grid-cols-2 gap-4 mb-6"},gt={class:"text-center p-4 bg-blue-50 rounded-lg"},bt={class:"text-2xl font-bold text-blue-700"},pt={class:"text-center p-4 bg-green-50 rounded-lg"},vt={class:"text-2xl font-bold text-green-700"},xt={class:"text-center p-4 bg-purple-50 rounded-lg"},yt={class:"text-2xl font-bold text-purple-700"},mt={class:"text-center p-4 bg-orange-50 rounded-lg"},ft={class:"text-2xl font-bold text-orange-700"},ht={class:"h-80"},_t={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},wt={class:"flex justify-between items-center mb-6"},Ct={class:"flex gap-2"},At={class:"grid grid-cols-2 gap-4 mb-6"},kt={class:"text-center p-4 bg-gray-50 rounded-lg"},St={class:"text-2xl font-bold text-gray-700"},Pt={class:"text-center p-4 bg-green-50 rounded-lg"},Lt={class:"text-2xl font-bold text-green-700"},Rt={class:"text-center p-4 bg-red-50 rounded-lg"},Ut={class:"text-2xl font-bold text-red-700"},jt={class:"text-center p-4 bg-blue-50 rounded-lg"},Dt={class:"text-2xl font-bold text-blue-700"},Tt={class:"h-80"},Gt={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Ft={class:"flex justify-between items-center mb-6"},Mt={class:"flex gap-2"},$t={class:"h-80 mb-6"},Nt={class:"space-y-3"},Wt={class:"flex-1"},Et={class:"text-sm font-medium text-gray-900"},Bt={class:"text-xs text-gray-500"},Ht={class:"text-right"},It={class:"text-sm font-semibold text-gray-900"},Ot={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Vt={class:"flex justify-between items-center mb-6"},zt={class:"flex gap-2"},qt={class:"h-80 mb-6"},Xt={class:"grid grid-cols-2 gap-4"},Yt={class:"text-center p-3 bg-gray-50 rounded-lg"},Zt={class:"text-lg font-bold text-gray-700"},Kt={class:"text-center p-3 bg-green-50 rounded-lg"},Jt={class:"text-lg font-bold text-green-700"},Qt={class:"text-center p-3 bg-red-50 rounded-lg"},es={class:"text-lg font-bold text-red-700"},ts={class:"text-center p-3 bg-blue-50 rounded-lg"},ss={class:"text-lg font-bold text-blue-700"},os={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},as={class:"flex justify-between items-center mb-6"},rs={class:"flex gap-2"},ns={class:"h-80"},ls={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},is={class:"flex justify-between items-center mb-6"},ds={class:"flex gap-2"},us={class:"h-80 mb-6"},cs={class:"space-y-3"},gs={class:"flex-1"},bs={class:"text-sm font-medium text-gray-900"},ps={class:"text-xs text-gray-500"},vs={class:"text-right"},xs={class:"text-sm font-semibold text-gray-900"},ys={key:4,class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8"},ms={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},fs={class:"space-y-3"},hs={class:"flex items-center gap-3"},_s={class:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-medium"},ws={class:"text-sm font-medium text-gray-900"},Cs={class:"text-xs text-gray-500"},As={class:"text-right"},ks={class:"text-sm font-semibold text-green-700"},Ss={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Ps={class:"space-y-3"},Ls={class:"flex-1"},Rs={class:"text-sm font-medium text-gray-900"},Us={class:"text-xs text-gray-500"},js={class:"text-right"},Ds={__name:"Analytics",setup(v){b.register(xe,ye,me,fe,he,_e,we,Ce,Ae,ke,Se,Pe,Le,Re);const{loading:w,error:C,platformOverview:u,userGrowthData:y,userGrowthStats:L,submissionActivity:x,learningPathEngagement:R,challengeDifficulty:f,lessonPerformance:U,sessionAnalytics:j,topPerformers:T,recentActivity:Y,loadAllAnalytics:G}=Me(),F=i(null),M=i(null),$=i(null),H=i(null),N=i(null),W=i(null);let A=null,h=null,k=null,o=null,n=null,d=null;const S=i("30d"),I=i("line"),D=i("line"),O=i("bar"),V=i("bar"),z=i("bar"),K=i("bar");function J(a){I.value=a,P(()=>{se()})}function Z(a){D.value=a,P(()=>{oe()})}function Q(a){O.value=a,P(()=>{ae()})}function ee(a){V.value=a,P(()=>{ne()})}function te(a){z.value=a,P(()=>{re()})}function de(a){K.value=a,P(()=>{le()})}function se(){A&&A.destroy();const a=F.value?.getContext("2d");!a||!y.value||y.value.length===0||(I.value==="line"?A=new b(a,{type:"line",data:{labels:y.value.map(t=>t.period),datasets:[{label:"New Users",data:y.value.map(t=>t.new_users),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}}):A=new b(a,{type:"bar",data:{labels:y.value.slice(-6).map(t=>t.period),datasets:[{label:"New Users",data:y.value.slice(-6).map(t=>t.new_users),backgroundColor:"#3b82f6",borderColor:"#2563eb",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}}))}function oe(){h&&h.destroy();const a=M.value?.getContext("2d");if(a)if(D.value==="line"){const t=x.value.dailyStats||[];h=new b(a,{type:"line",data:{labels:t.map(s=>s.period),datasets:[{label:"Submissions",data:t.map(s=>s.total_submissions),borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:2,fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}})}else if(D.value==="bar")h=new b(a,{type:"bar",data:{labels:["Passed","Failed"],datasets:[{data:[x.value.passedSubmissions||0,x.value.failedSubmissions||0],backgroundColor:["#10b981","#ef4444"],borderColor:["#059669","#dc2626"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}});else{const t=x.value.languageUsage||[];h=new b(a,{type:"pie",data:{labels:t.map(s=>s.language),datasets:[{data:t.map(s=>s.percentage),backgroundColor:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})}}function ae(){k&&k.destroy();const a=$.value?.getContext("2d");if(!a)return;const t=R.value.slice(0,5);O.value==="bar"?k=new b(a,{type:"bar",data:{labels:t.map(s=>s.language_name),datasets:[{label:"Active Users",data:t.map(s=>s.active_users),backgroundColor:"#10b981",borderColor:"#059669",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}}}}):k=new b(a,{type:"doughnut",data:{labels:t.map(s=>s.language_name),datasets:[{data:t.map(s=>s.success_rate),backgroundColor:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})}function re(){n&&n.destroy();const a=N.value?.getContext("2d");if(!a)return;const t=f.value.challenges?.slice(0,5)||[];z.value==="bar"?n=new b(a,{type:"bar",data:{labels:t.map(s=>s.title),datasets:[{label:"Pass Rate (%)",data:t.map(s=>s.pass_rate),backgroundColor:"#ef4444",borderColor:"#dc2626",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100}}}}):n=new b(a,{type:"line",data:{labels:t.map(s=>s.title),datasets:[{label:"Avg Attempts",data:t.map(s=>s.total_attempts),borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:2,fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}})}function ne(){o&&o.destroy();const a=H.value?.getContext("2d");if(a)if(V.value==="bar"){const t=j.value.dailyActivity?.slice(-7)||[];o=new b(a,{type:"bar",data:{labels:t.map(s=>s.date),datasets:[{label:"Unique Users",data:t.map(s=>s.unique_users),backgroundColor:"#f59e0b",borderColor:"#d97706",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}})}else{const t=j.value.peakHours||[];o=new b(a,{type:"line",data:{labels:t.map(s=>`${s.hour}:00`),datasets:[{label:"Submissions",data:t.map(s=>s.submissions),borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:2,fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}})}}function le(){d&&d.destroy();const a=W.value?.getContext("2d");if(!a)return;const t=U.value;d=new b(a,{type:"bar",data:{labels:t.map(s=>s.title?.split(" ").slice(0,2).join(" ")||"Lesson"),datasets:[{label:"Order Index",data:t.map(s=>s.order_index),backgroundColor:"#3b82f6",borderColor:"#2563eb",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}})}function ue(a){return new Date(a).toLocaleDateString()}function ce(a){return new Date(a).toLocaleTimeString()}function ge(){const a=f.value.challenges||[];return a.length===0?"N/A":[...a].sort((s,E)=>s.pass_rate-E.pass_rate)[0]?.title||"N/A"}function be(){const a=f.value.challenges||[];return a.length===0?"N/A":[...a].sort((s,E)=>E.pass_rate-s.pass_rate)[0]?.title||"N/A"}function ie(){se(),oe(),ae(),re(),ne(),le()}function pe(){G(S.value).then(()=>{P(()=>{ie()})})}function ve(){console.log("Exporting analytics report..."),alert("Export functionality would generate a comprehensive report here!")}return Ue(()=>{G(S.value).then(()=>{P(()=>{ie()})})}),je(()=>{[A,h,k,o,n,d].forEach(t=>{t&&t.destroy()})}),(a,t)=>(g(),c("div",$e,[e("div",Ne,[e("div",We,[t[15]||(t[15]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Analytics Dashboard"),e("p",{class:"text-gray-600 mt-2"},"Comprehensive platform insights and performance metrics")],-1)),e("div",Ee,[De(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>S.value=s),onChange:pe,class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[13]||(t[13]=[e("option",{value:"7d"},"Last 7 Days",-1),e("option",{value:"30d"},"Last 30 Days",-1),e("option",{value:"90d"},"Last 90 Days",-1),e("option",{value:"1y"},"Last Year",-1)])],544),[[Te,S.value]]),e("button",{onClick:ve,class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition flex items-center gap-2"},[...t[14]||(t[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Ge(" Export Report ",-1)])])])])]),l(C)?(g(),c("div",Be,[e("div",He,[t[16]||(t[16]=e("svg",{class:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",Ie,"Failed to load analytics: "+r(l(C)),1)])])):B("",!0),l(w)?(g(),c("div",Oe,[...t[17]||(t[17]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):B("",!0),!l(w)&&!l(C)?(g(),c("div",Ve,[e("div",ze,[e("div",qe,[e("div",null,[t[18]||(t[18]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Users",-1)),e("p",Xe,r(l(u).totalUsers?.toLocaleString()||0),1)]),t[19]||(t[19]=e("div",{class:"p-3 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1))]),e("p",Ye,"+"+r(l(u).userGrowth||0)+"% growth",1)]),e("div",Ze,[e("div",Ke,[e("div",null,[t[20]||(t[20]=e("p",{class:"text-sm font-medium text-gray-600"},"Active Sessions",-1)),e("p",Je,r(l(u).activeSessions?.toLocaleString()||0),1)]),t[21]||(t[21]=e("div",{class:"p-3 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1))]),t[22]||(t[22]=e("p",{class:"text-xs text-gray-500 mt-2"},"Currently online",-1))]),e("div",Qe,[e("div",et,[e("div",null,[t[23]||(t[23]=e("p",{class:"text-sm font-medium text-gray-600"},"Submissions",-1)),e("p",tt,r(l(u).totalSubmissions?.toLocaleString()||0),1)]),t[24]||(t[24]=e("div",{class:"p-3 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})])],-1))]),e("p",st,r(l(u).submissionSuccessRate||0)+"% success rate",1)]),e("div",ot,[e("div",at,[e("div",null,[t[25]||(t[25]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Lessons",-1)),e("p",rt,r(l(u).totalLessons?.toLocaleString()||0),1)]),t[26]||(t[26]=e("div",{class:"p-3 bg-orange-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1))]),e("p",nt,r(l(u).totalChallenges||0)+" challenges",1)])])):B("",!0),!l(w)&&!l(C)?(g(),c("div",lt,[e("div",it,[e("div",dt,[t[27]||(t[27]=e("h3",{class:"text-lg font-semibold text-gray-900"},"User Growth Analytics",-1)),e("div",ut,[e("button",{onClick:t[1]||(t[1]=s=>J("line")),class:p(["px-3 py-1 rounded-lg text-sm transition",I.value==="line"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"])}," Trend ",2),e("button",{onClick:t[2]||(t[2]=s=>J("bar")),class:p(["px-3 py-1 rounded-lg text-sm transition",I.value==="bar"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"])}," Monthly ",2)])]),e("div",ct,[e("div",gt,[e("div",bt,r(l(L).dailyNewUsers||0),1),t[28]||(t[28]=e("div",{class:"text-sm text-blue-600"},"Daily New Users",-1))]),e("div",pt,[e("div",vt,r(l(L).weeklyNewUsers||0),1),t[29]||(t[29]=e("div",{class:"text-sm text-green-600"},"Weekly New Users",-1))]),e("div",xt,[e("div",yt,r(l(L).monthlyGrowthRate||0)+"%",1),t[30]||(t[30]=e("div",{class:"text-sm text-purple-600"},"Monthly Growth",-1))]),e("div",mt,[e("div",ft,r(l(u).totalUsers?.toLocaleString()||0),1),t[31]||(t[31]=e("div",{class:"text-sm text-orange-600"},"Total Users",-1))])]),e("div",ht,[e("canvas",{ref_key:"userGrowthChart",ref:F},null,512)])]),e("div",_t,[e("div",wt,[t[32]||(t[32]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Submission Activity",-1)),e("div",Ct,[e("button",{onClick:t[3]||(t[3]=s=>Z("line")),class:p(["px-3 py-1 rounded-lg text-sm transition",D.value==="line"?"bg-purple-100 text-purple-700":"text-gray-500 hover:bg-gray-100"])}," Daily ",2),e("button",{onClick:t[4]||(t[4]=s=>Z("bar")),class:p(["px-3 py-1 rounded-lg text-sm transition",D.value==="bar"?"bg-purple-100 text-purple-700":"text-gray-500 hover:bg-gray-100"])}," Pass/Fail ",2),e("button",{onClick:t[5]||(t[5]=s=>Z("pie")),class:p(["px-3 py-1 rounded-lg text-sm transition",D.value==="pie"?"bg-purple-100 text-purple-700":"text-gray-500 hover:bg-gray-100"])}," Languages ",2)])]),e("div",At,[e("div",kt,[e("div",St,r(l(x).totalSubmissions||0),1),t[33]||(t[33]=e("div",{class:"text-sm text-gray-600"},"Total Submissions",-1))]),e("div",Pt,[e("div",Lt,r(l(x).passedSubmissions||0),1),t[34]||(t[34]=e("div",{class:"text-sm text-green-600"},"Passed",-1))]),e("div",Rt,[e("div",Ut,r(l(x).failedSubmissions||0),1),t[35]||(t[35]=e("div",{class:"text-sm text-red-600"},"Failed",-1))]),e("div",jt,[e("div",Dt,r(l(x).successRate||0)+"%",1),t[36]||(t[36]=e("div",{class:"text-sm text-blue-600"},"Success Rate",-1))])]),e("div",Tt,[e("canvas",{ref_key:"submissionChart",ref:M},null,512)])]),e("div",Gt,[e("div",Ft,[t[37]||(t[37]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Learning Path Engagement",-1)),e("div",Mt,[e("button",{onClick:t[6]||(t[6]=s=>Q("bar")),class:p(["px-3 py-1 rounded-lg text-sm transition",O.value==="bar"?"bg-green-100 text-green-700":"text-gray-500 hover:bg-gray-100"])}," Active Users ",2),e("button",{onClick:t[7]||(t[7]=s=>Q("doughnut")),class:p(["px-3 py-1 rounded-lg text-sm transition",O.value==="doughnut"?"bg-green-100 text-green-700":"text-gray-500 hover:bg-gray-100"])}," Success Rate ",2)])]),e("div",$t,[e("canvas",{ref_key:"learningPathChart",ref:$},null,512)]),e("div",Nt,[t[39]||(t[39]=e("h4",{class:"text-sm font-medium text-gray-700"},"Top Programming Languages",-1)),(g(!0),c(q,null,X(l(R).slice(0,5),s=>(g(),c("div",{key:s.language_name,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",Wt,[e("div",Et,r(s.language_name),1),e("div",Bt,r(s.active_users)+" active users • "+r(s.success_rate)+"% success rate",1)]),e("div",Ht,[e("div",It,r(s.total_submissions?.toLocaleString()||0),1),t[38]||(t[38]=e("div",{class:"text-xs text-gray-500"},"submissions",-1))])]))),128))])]),e("div",Ot,[e("div",Vt,[t[40]||(t[40]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Challenge Difficulty",-1)),e("div",zt,[e("button",{onClick:t[8]||(t[8]=s=>te("bar")),class:p(["px-3 py-1 rounded-lg text-sm transition",z.value==="bar"?"bg-red-100 text-red-700":"text-gray-500 hover:bg-gray-100"])}," Pass Rate ",2),e("button",{onClick:t[9]||(t[9]=s=>te("line")),class:p(["px-3 py-1 rounded-lg text-sm transition",z.value==="line"?"bg-red-100 text-red-700":"text-gray-500 hover:bg-gray-100"])}," Attempts ",2)])]),e("div",qt,[e("canvas",{ref_key:"challengeChart",ref:N},null,512)]),e("div",Xt,[e("div",Yt,[e("div",Zt,r(l(f).overall?.avg_pass_rate||0)+"%",1),t[41]||(t[41]=e("div",{class:"text-xs text-gray-600"},"Avg Pass Rate",-1))]),e("div",Kt,[e("div",Jt,r(l(f).overall?.avg_attempts||0),1),t[42]||(t[42]=e("div",{class:"text-xs text-green-600"},"Avg Attempts",-1))]),e("div",Qt,[e("div",es,r(ge()),1),t[43]||(t[43]=e("div",{class:"text-xs text-red-600"},"Most Failed",-1))]),e("div",ts,[e("div",ss,r(be()),1),t[44]||(t[44]=e("div",{class:"text-xs text-blue-600"},"Most Completed",-1))])])]),e("div",os,[e("div",as,[t[45]||(t[45]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Session Analytics",-1)),e("div",rs,[e("button",{onClick:t[10]||(t[10]=s=>ee("bar")),class:p(["px-3 py-1 rounded-lg text-sm transition",V.value==="bar"?"bg-orange-100 text-orange-700":"text-gray-500 hover:bg-gray-100"])}," Daily Activity ",2),e("button",{onClick:t[11]||(t[11]=s=>ee("line")),class:p(["px-3 py-1 rounded-lg text-sm transition",V.value==="line"?"bg-orange-100 text-orange-700":"text-gray-500 hover:bg-gray-100"])}," Peak Hours ",2)])]),e("div",ns,[e("canvas",{ref_key:"sessionChart",ref:H},null,512)])]),e("div",ls,[e("div",is,[t[46]||(t[46]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Recent Lessons",-1)),e("div",ds,[e("button",{onClick:t[12]||(t[12]=s=>de("bar")),class:p(["px-3 py-1 rounded-lg text-sm transition",K.value==="bar"?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"])}," View ",2)])]),e("div",us,[e("canvas",{ref_key:"lessonChart",ref:W},null,512)]),e("div",cs,[t[48]||(t[48]=e("h4",{class:"text-sm font-medium text-gray-700"},"Recently Added Lessons",-1)),(g(!0),c(q,null,X(l(U).slice(0,5),s=>(g(),c("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",gs,[e("div",bs,r(s.title),1),e("div",ps,r(s.language_name)+" • "+r(ue(s.created_at)),1)]),e("div",vs,[e("div",xs,r(s.order_index),1),t[47]||(t[47]=e("div",{class:"text-xs text-gray-500"},"order",-1))])]))),128))])])])):B("",!0),!l(w)&&!l(C)?(g(),c("div",ys,[e("div",ms,[t[50]||(t[50]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Top Performers",-1)),e("div",fs,[(g(!0),c(q,null,X(l(T),(s,E)=>(g(),c("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",hs,[e("div",_s,r(E+1),1),e("div",null,[e("div",ws,r(s.username),1),e("div",Cs,r(s.challenges_solved)+" challenges solved",1)])]),e("div",As,[e("div",ks,r(s.xp),1),t[49]||(t[49]=e("div",{class:"text-xs text-gray-500"},"XP",-1))])]))),128))])]),e("div",Ss,[t[51]||(t[51]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Recent Activity",-1)),e("div",Ps,[(g(!0),c(q,null,X(l(Y),s=>(g(),c("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",Ls,[e("div",Rs,r(s.description),1),e("div",Us,r(ce(s.time)),1)]),e("div",js,[e("span",{class:p(["px-2 py-1 rounded text-xs font-medium",s.type==="submission"&&s.status==="Passed"?"bg-green-100 text-green-800":s.type==="submission"?"bg-red-100 text-red-800":s.type==="challenge_solve"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"])},r(s.type?.replace("_"," ")||"activity"),3)])]))),128))])])])):B("",!0)]))}},Ms=Fe(Ds,[["__scopeId","data-v-10de79b7"]]);export{Ms as default};
