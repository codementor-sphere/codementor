import"./axios-C5QMe_K2.js";import{l as $}from"./learn-M-KGoh8T.js";import{h as f,j as v,o as m,k as e,n as U,l as z,Q as M,F as E,m as j,t as b,N as k,O,X as Ee,Y as te,V as C,R as x,J as Se,c as B,q as _}from"./vendor-DOs60vln.js";import{_ as oe}from"./main-DgxArW91.js";function je(){const n=f(!1),g=f(null),s=f([]),c=f([]),d=f([]),o=f({}),t=f({name:"",slug:"",description:""}),a=f(null),r=f(null),l=async u=>{n.value=!0,g.value=null;try{return(await u()).data}catch(i){throw g.value=i.response?.data?.message||i.message||"An error occurred",i}finally{n.value=!1}};async function w(u={}){try{const i=await l(()=>$.admin.languages.getAll(u));return s.value=i,i}catch(i){throw console.error("Error loading languages:",g.value),i}}async function S(u){try{const i=await l(()=>$.admin.languages.create(u));return await w(),i}catch(i){throw console.error("Error creating language:",g.value),i}}async function T(u,i){try{const h=await l(()=>$.admin.languages.update(u,i));return await w(),h}catch(h){throw console.error("Error updating language:",g.value),h}}async function I(u){try{const i=await l(()=>$.admin.languages.delete(u));return await w(),i}catch(i){throw console.error("Error deleting language:",g.value),i}}async function V(u={}){try{const i=await l(()=>$.admin.lessons.getAll(u));return c.value=i,i}catch(i){throw console.error("Error loading lessons:",g.value),i}}async function N(u){try{const i=await l(()=>$.admin.lessons.get(u));return a.value=i,i}catch(i){throw console.error("Error loading lesson:",g.value),i}}async function P(u){try{const i=await l(()=>$.admin.lessons.create(u));return await V(),i}catch(i){throw console.error("Error creating lesson:",g.value),i}}async function R(u,i){try{const h=await l(()=>$.admin.lessons.update(u,i));return await V(),h}catch(h){throw console.error("Error updating lesson:",g.value),h}}async function W(u){try{const i=await l(()=>$.admin.lessons.delete(u));return await V(),i}catch(i){throw console.error("Error deleting lesson:",g.value),i}}async function A(u={}){try{const i=await l(()=>$.admin.sections.getAll(u));return d.value=i,i}catch(i){throw console.error("Error loading sections:",g.value),i}}async function J(u){try{const i=await l(()=>$.admin.sections.create(u));return await A(),i}catch(i){throw console.error("Error creating section:",g.value),i}}async function Q(u,i){try{const h=await l(()=>$.admin.sections.update(u,i));return await A(),h}catch(h){throw console.error("Error updating section:",g.value),h}}async function X(u){try{const i=await l(()=>$.admin.sections.delete(u));return await A(),i}catch(i){throw console.error("Error deleting section:",g.value),i}}async function Y(){try{const u=await l(()=>$.admin.analytics.getOverview());return o.value=u,u}catch(u){throw console.error("Error loading analytics:",g.value),u}}async function G(u){try{return await l(()=>$.admin.export.content(u))}catch(i){throw console.error("Error exporting content:",g.value),i}}async function K(u,i){try{return await l(()=>$.admin.reorder.sections(u,{sections:i}))}catch(h){throw console.error("Error reordering sections:",g.value),h}}function Z(u){u?t.value={...u}:t.value={name:"",slug:"",description:""}}function H(u){a.value=u?{...u}:null}function ee(u){r.value=u?{...u}:null}function L(){t.value={name:"",slug:"",description:""},a.value=null,r.value=null}return{loading:n,error:g,languages:s,lessons:c,sections:d,analytics:o,currentLanguage:t,currentLesson:a,currentSection:r,fetchLanguages:w,createLanguage:S,updateLanguage:T,deleteLanguage:I,fetchLessons:V,fetchLesson:N,createLesson:P,updateLesson:R,deleteLesson:W,fetchSections:A,createSection:J,updateSection:Q,deleteSection:X,fetchAnalytics:Y,exportContent:G,reorderSections:K,setCurrentLanguage:Z,setCurrentLesson:H,setCurrentSection:ee,resetCurrentItems:L}}const Be={class:"border-b border-gray-200"},Ve={class:"-mb-px flex space-x-8"},q={__name:"TabNavigation",props:{activeView:{type:String,required:!0}},emits:["view-changed"],setup(n){return(g,s)=>(m(),v("div",Be,[e("nav",Ve,[e("button",{onClick:s[0]||(s[0]=c=>g.$emit("view-changed","languages")),class:U(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",n.activeView==="languages"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Languages ",2),e("button",{onClick:s[1]||(s[1]=c=>g.$emit("view-changed","lessons")),class:U(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",n.activeView==="lessons"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Lessons ",2),e("button",{onClick:s[2]||(s[2]=c=>g.$emit("view-changed","sections")),class:U(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",n.activeView==="sections"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Sections ",2),e("button",{onClick:s[3]||(s[3]=c=>g.$emit("view-changed","analytics")),class:U(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",n.activeView==="analytics"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Analytics ",2)])]))}},Ae={class:"space-y-6"},Te={class:"flex justify-between items-center"},He={class:"flex gap-3"},De={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Fe={class:"flex justify-between items-start mb-4"},Ue={class:"text-lg font-semibold text-gray-900"},_e={class:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium"},ze={class:"text-gray-600 text-sm mb-4 line-clamp-2"},Oe={class:"flex justify-between items-center"},qe={class:"text-xs text-gray-500 font-mono"},Ie={class:"flex gap-2"},Ne=["onClick"],Pe=["onClick"],Re={__name:"LanguagesManagement",props:{languages:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["show-language-form","edit-language","delete-language","export"],setup(n){return(g,s)=>(m(),v("div",Ae,[e("div",Te,[s[4]||(s[4]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Languages Management"),e("p",{class:"text-gray-600 mt-2"},"Manage programming languages available on the platform")],-1)),e("div",He,[e("button",{onClick:s[0]||(s[0]=c=>g.$emit("export","languages")),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition flex items-center gap-2"},[...s[2]||(s[2]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),M(" Export ",-1)])]),e("button",{onClick:s[1]||(s[1]=c=>g.$emit("show-language-form")),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2"},[...s[3]||(s[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),M(" Add Language ",-1)])])])]),z(q,{"active-view":"languages",onViewChanged:g.$parent.setActiveView},null,8,["onViewChanged"]),e("div",De,[(m(!0),v(E,null,j(n.languages,c=>(m(),v("div",{key:c.id,class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow"},[e("div",Fe,[e("h3",Ue,b(c.name),1),e("span",_e,b(c.total_lessons||0)+" lessons ",1)]),e("p",ze,b(c.description),1),e("div",Oe,[e("span",qe,b(c.slug),1),e("div",Ie,[e("button",{onClick:d=>g.$emit("edit-language",c),class:"p-2 text-gray-400 hover:text-blue-600 transition",title:"Edit Language"},[...s[5]||(s[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Ne),e("button",{onClick:d=>g.$emit("delete-language",c),class:"p-2 text-gray-400 hover:text-red-600 transition",title:"Delete Language"},[...s[6]||(s[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Pe)])])]))),128))])]))}},We={class:"space-y-6"},Je={class:"flex justify-between items-center"},Qe={class:"flex gap-3"},Xe={class:"bg-white rounded-xl shadow-sm border border-gray-200"},Ye={class:"p-6 border-b border-gray-200"},Ge={class:"flex justify-between items-center"},Ke={class:"flex items-center gap-3"},Ze=["value"],et={class:"p-6"},tt={class:"overflow-x-auto"},ot={class:"w-full"},st={class:"bg-white divide-y divide-gray-200"},nt={class:"px-6 py-4 whitespace-nowrap"},rt={class:"text-sm font-medium text-gray-900"},lt={class:"text-sm text-gray-500 truncate max-w-xs"},it={class:"px-6 py-4 whitespace-nowrap"},at={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},gt={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},ct={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},mt={class:"flex items-center gap-2"},pt=["onClick"],xt=["onClick"],vt={__name:"LessonsManagement",props:{lessons:{type:Array,default:()=>[]},languages:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["show-lesson-form","edit-lesson","delete-lesson","export","filter-changed"],setup(n,{emit:g}){const s=f({language:""}),c=n,d=g;function o(a){const r=c.languages.find(l=>l.id===a);return r?r.name:"Unknown"}function t(){d("filter-changed",s.value)}return(a,r)=>(m(),v("div",We,[e("div",Je,[r[5]||(r[5]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Lessons Management"),e("p",{class:"text-gray-600 mt-2"},"Manage lessons across different programming languages")],-1)),e("div",Qe,[e("button",{onClick:r[0]||(r[0]=l=>a.$emit("export","lessons")),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition flex items-center gap-2"},[...r[3]||(r[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),M(" Export ",-1)])]),e("button",{onClick:r[1]||(r[1]=l=>a.$emit("show-lesson-form")),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2"},[...r[4]||(r[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),M(" Create Lesson ",-1)])])])]),z(q,{"active-view":"lessons",onViewChanged:a.$parent.setActiveView},null,8,["onViewChanged"]),e("div",Xe,[e("div",Ye,[e("div",Ge,[r[7]||(r[7]=e("h2",{class:"text-lg font-semibold text-gray-900"},"All Lessons",-1)),e("div",Ke,[k(e("select",{"onUpdate:modelValue":r[2]||(r[2]=l=>s.value.language=l),onChange:t,class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[r[6]||(r[6]=e("option",{value:""},"All Languages",-1)),(m(!0),v(E,null,j(n.languages,l=>(m(),v("option",{key:l.id,value:l.id},b(l.name),9,Ze))),128))],544),[[O,s.value.language]])])])]),e("div",et,[e("div",tt,[e("table",ot,[r[10]||(r[10]=e("thead",{class:"bg-gray-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Language"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Order"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sections"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",st,[(m(!0),v(E,null,j(n.lessons,l=>(m(),v("tr",{key:l.id,class:"hover:bg-gray-50 transition-colors"},[e("td",nt,[e("div",null,[e("div",rt,b(l.title),1),e("div",lt,b(l.description),1)])]),e("td",it,[e("span",at,b(o(l.language_id)),1)]),e("td",dt,b(l.order_index),1),e("td",ut,[e("span",gt,b(l.total_sections||0),1)]),e("td",ct,[e("div",mt,[e("button",{onClick:w=>a.$emit("edit-lesson",l),class:"text-green-600 hover:text-green-900 transition",title:"Edit Lesson"},[...r[8]||(r[8]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,pt),e("button",{onClick:w=>a.$emit("delete-lesson",l),class:"text-red-600 hover:text-red-900 transition",title:"Delete Lesson"},[...r[9]||(r[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,xt)])])]))),128))])])])])])]))}},bt={class:"space-y-6"},yt={class:"flex justify-between items-center"},ft={class:"flex gap-3"},wt={class:"bg-white rounded-xl shadow-sm border border-gray-200"},ht={class:"p-6 border-b border-gray-200"},kt={class:"flex justify-between items-center"},$t={class:"flex items-center gap-3"},Ct=["value"],Lt={class:"p-6"},Mt={class:"overflow-x-auto"},Et={class:"w-full"},St={class:"bg-white divide-y divide-gray-200"},jt={class:"px-6 py-4 whitespace-nowrap"},Bt={class:"text-sm font-medium text-gray-900"},Vt={class:"text-sm text-gray-500 truncate max-w-xs"},At={class:"px-6 py-4 whitespace-nowrap"},Tt={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},Ht={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},Dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},Ft={key:0,class:"text-green-600"},Ut={key:1,class:"text-gray-400"},_t={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},zt={class:"flex items-center gap-2"},Ot=["onClick"],qt=["onClick"],It={__name:"SectionsManagement",props:{sections:{type:Array,default:()=>[]},lessons:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["show-section-form","edit-section","delete-section","export","filter-changed"],setup(n,{emit:g}){const s=f({lesson:""}),c=n,d=g;function o(a){const r=c.lessons.find(l=>l.id===a);return r?r.title:"Unknown"}function t(){d("filter-changed",s.value)}return(a,r)=>(m(),v("div",bt,[e("div",yt,[r[5]||(r[5]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Sections Management"),e("p",{class:"text-gray-600 mt-2"},"Manage lesson sections and content")],-1)),e("div",ft,[e("button",{onClick:r[0]||(r[0]=l=>a.$emit("export","sections")),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition flex items-center gap-2"},[...r[3]||(r[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),M(" Export ",-1)])]),e("button",{onClick:r[1]||(r[1]=l=>a.$emit("show-section-form")),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2"},[...r[4]||(r[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),M(" Add Section ",-1)])])])]),z(q,{"active-view":"sections",onViewChanged:a.$parent.setActiveView},null,8,["onViewChanged"]),e("div",wt,[e("div",ht,[e("div",kt,[r[7]||(r[7]=e("h2",{class:"text-lg font-semibold text-gray-900"},"All Sections",-1)),e("div",$t,[k(e("select",{"onUpdate:modelValue":r[2]||(r[2]=l=>s.value.lesson=l),onChange:t,class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[r[6]||(r[6]=e("option",{value:""},"All Lessons",-1)),(m(!0),v(E,null,j(n.lessons,l=>(m(),v("option",{key:l.id,value:l.id},b(l.title),9,Ct))),128))],544),[[O,s.value.lesson]])])])]),e("div",Lt,[e("div",Mt,[e("table",Et,[r[10]||(r[10]=e("thead",{class:"bg-gray-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subtitle"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lesson"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Order"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Code Example"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",St,[(m(!0),v(E,null,j(n.sections,l=>(m(),v("tr",{key:l.id,class:"hover:bg-gray-50 transition-colors"},[e("td",jt,[e("div",null,[e("div",Bt,b(l.subtitle),1),e("div",Vt,b(l.content),1)])]),e("td",At,[e("span",Tt,b(o(l.lesson_id)),1)]),e("td",Ht,b(l.order_index),1),e("td",Dt,[l.code_example?(m(),v("span",Ft,"✓")):(m(),v("span",Ut,"✗"))]),e("td",_t,[e("div",zt,[e("button",{onClick:w=>a.$emit("edit-section",l),class:"text-green-600 hover:text-green-900 transition",title:"Edit Section"},[...r[8]||(r[8]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Ot),e("button",{onClick:w=>a.$emit("delete-section",l),class:"text-red-600 hover:text-red-900 transition",title:"Delete Section"},[...r[9]||(r[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,qt)])])]))),128))])])])])])]))}},Nt={class:"space-y-6"},Pt={class:"flex justify-between items-center"},Rt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Wt={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Jt={class:"flex items-center gap-3"},Qt={class:"text-2xl font-bold text-gray-900"},Xt={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Yt={class:"flex items-center gap-3"},Gt={class:"text-2xl font-bold text-gray-900"},Kt={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},Zt={class:"flex items-center gap-3"},eo={class:"text-2xl font-bold text-gray-900"},to={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},oo={class:"flex items-center gap-3"},so={class:"text-2xl font-bold text-gray-900"},no={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},ro={class:"space-y-3"},lo={class:"font-medium text-gray-700"},io={class:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium"},ao={__name:"AnalyticsOverview",props:{analytics:{type:Object,default:()=>({})}},emits:["export"],setup(n){return(g,s)=>(m(),v("div",Nt,[e("div",Pt,[s[2]||(s[2]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Learning Analytics"),e("p",{class:"text-gray-600 mt-2"},"Overview of learning content and usage statistics")],-1)),e("button",{onClick:s[0]||(s[0]=c=>g.$emit("export","analytics")),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition flex items-center gap-2"},[...s[1]||(s[1]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),M(" Export Analytics ",-1)])])]),z(q,{"active-view":"analytics",onViewChanged:g.$parent.setActiveView},null,8,["onViewChanged"]),e("div",Rt,[e("div",Wt,[e("div",Jt,[s[4]||(s[4]=e("div",{class:"p-3 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})])],-1)),e("div",null,[e("div",Qt,b(n.analytics.totals?.languages||0),1),s[3]||(s[3]=e("div",{class:"text-sm text-gray-500"},"Languages",-1))])])]),e("div",Xt,[e("div",Yt,[s[6]||(s[6]=e("div",{class:"p-3 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),e("div",null,[e("div",Gt,b(n.analytics.totals?.lessons||0),1),s[5]||(s[5]=e("div",{class:"text-sm text-gray-500"},"Lessons",-1))])])]),e("div",Kt,[e("div",Zt,[s[8]||(s[8]=e("div",{class:"p-3 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h7"})])],-1)),e("div",null,[e("div",eo,b(n.analytics.totals?.sections||0),1),s[7]||(s[7]=e("div",{class:"text-sm text-gray-500"},"Sections",-1))])])]),e("div",to,[e("div",oo,[s[10]||(s[10]=e("div",{class:"p-3 bg-orange-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])],-1)),e("div",null,[e("div",so,b(n.analytics.totals?.sectionsWithCode||0),1),s[9]||(s[9]=e("div",{class:"text-sm text-gray-500"},"Code Examples",-1))])])])]),e("div",no,[s[11]||(s[11]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Lessons per Language",-1)),e("div",ro,[(m(!0),v(E,null,j(n.analytics.lessonsPerLanguage||[],c=>(m(),v("div",{key:c.name,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("span",lo,b(c.name),1),e("span",io,b(c.lesson_count)+" lessons ",1)]))),128))])])]))}};function se(){const n=new Ee({breaks:!0,html:!0,linkify:!0,typographer:!0}),g=d=>d?n.render(d):"",s=(d,o)=>{if(!o){console.error("Textarea reference is required");return}const t=o;if(!t||typeof t.value>"u"){console.error("Textarea element not found or invalid:",t);return}const a=t.selectionStart,r=t.selectionEnd,l=t.value.substring(a,r);let w,S;l?(w=t.value.substring(0,a)+d.replace("__SELECTED__",l)+t.value.substring(r),S=a+d.replace("__SELECTED__",l).length):(w=t.value.substring(0,a)+d+t.value.substring(r),S=a+d.length),t.value=w,t.setSelectionRange(S,S),t.focus();const T=new Event("input",{bubbles:!0});return t.dispatchEvent(T),w};return{renderMarkdown:g,insertMarkdown:s,markdownHelpers:{bold:d=>s("**__SELECTED__**",d),italic:d=>s("*__SELECTED__*",d),code:d=>s("`__SELECTED__`",d),codeBlock:d=>s("```\n__SELECTED__\n```",d),link:d=>s("[__SELECTED__](url)",d),image:d=>s("![alt](__SELECTED__)",d),heading:(d,o)=>s(`${"#".repeat(d)} __SELECTED__`,o),list:(d=!1,o)=>s(`${d?"1. ":"- "}__SELECTED__`,o),blockquote:d=>s("> __SELECTED__",d)},md:n}}const uo={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},go={class:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"},co={class:"p-6"},mo={class:"flex justify-between items-center mb-6"},po={class:"text-xl font-bold text-gray-900"},xo={class:"grid grid-cols-1 gap-6"},vo={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},bo={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},yo={class:"flex items-center justify-between mb-2"},fo={class:"flex gap-1"},wo={class:"border border-gray-300 rounded-lg p-4 h-64 overflow-y-auto bg-gray-50"},ho=["innerHTML"],ko={class:"flex justify-end gap-3 pt-6 border-t border-gray-200"},$o=["disabled"],Co={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},Lo={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Mo={__name:"LanguageFormModal",props:{language:{type:Object,required:!0,default:()=>({name:"",slug:"",description:""})},loading:{type:Boolean,default:!1}},emits:["close","save"],setup(n){const{renderMarkdown:g,markdownHelpers:s}=se(),c=f(null);return(d,o)=>(m(),v("div",uo,[e("div",go,[e("div",co,[e("div",mo,[e("h2",po,b(n.language?.id?"Edit Language":"Add New Language"),1),e("button",{onClick:o[0]||(o[0]=t=>d.$emit("close")),class:"p-2 hover:bg-gray-100 rounded-lg transition"},[...o[10]||(o[10]=[e("svg",{class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:o[9]||(o[9]=te(t=>d.$emit("save"),["prevent"])),class:"space-y-6"},[e("div",xo,[e("div",vo,[e("div",null,[o[11]||(o[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Name *",-1)),k(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>n.language.name=t),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"JavaScript, Python, PHP..."},null,512),[[C,n.language.name]])]),e("div",null,[o[12]||(o[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Slug *",-1)),k(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>n.language.slug=t),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"javascript, python, php..."},null,512),[[C,n.language.slug]]),o[13]||(o[13]=e("p",{class:"mt-1 text-sm text-gray-500"},"URL-friendly identifier for the language",-1))])]),e("div",null,[o[20]||(o[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),e("div",bo,[e("div",null,[e("div",yo,[o[18]||(o[18]=e("span",{class:"text-sm font-medium text-gray-700"},"Markdown Editor",-1)),e("div",fo,[e("button",{type:"button",onClick:o[3]||(o[3]=t=>x(s).bold(c.value)),class:"p-1 text-sm font-bold text-gray-600 hover:bg-gray-100 rounded",title:"Bold"},[...o[14]||(o[14]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 6h16M3 12h16m-7 6h7"})],-1)])]),e("button",{type:"button",onClick:o[4]||(o[4]=t=>x(s).italic(c.value)),class:"p-1 text-sm italic text-gray-600 hover:bg-gray-100 rounded",title:"Italic"},[...o[15]||(o[15]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 4h12M6 20h12"})],-1)])]),e("button",{type:"button",onClick:o[5]||(o[5]=t=>x(s).code(c.value)),class:"p-1 text-sm font-mono text-gray-600 hover:bg-gray-100 rounded",title:"Code"},[...o[16]||(o[16]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})],-1)])]),e("button",{type:"button",onClick:o[6]||(o[6]=t=>x(s).link(c.value)),class:"p-1 text-sm text-gray-600 hover:bg-gray-100 rounded",title:"Link"},[...o[17]||(o[17]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})],-1)])])])]),k(e("textarea",{ref_key:"descriptionTextarea",ref:c,"onUpdate:modelValue":o[7]||(o[7]=t=>n.language.description=t),rows:"8",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Describe the programming language using Markdown..."},null,512),[[C,n.language.description]])]),e("div",null,[o[19]||(o[19]=e("div",{class:"flex items-center justify-between mb-2"},[e("span",{class:"text-sm font-medium text-gray-700"},"Live Preview")],-1)),e("div",wo,[e("div",{innerHTML:x(g)(n.language.description),class:"prose prose-sm max-w-none"},null,8,ho)])])])])]),e("div",ko,[e("button",{type:"button",onClick:o[8]||(o[8]=t=>d.$emit("close")),class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition"}," Cancel "),e("button",{type:"submit",disabled:n.loading,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"},[n.loading?(m(),v("svg",Co,[...o[21]||(o[21]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(m(),v("svg",Lo,[...o[22]||(o[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),M(" "+b(n.language?.id?"Update Language":"Create Language"),1)],8,$o)])],32)])])]))}},Eo=oe(Mo,[["__scopeId","data-v-d5d7123c"]]),So={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},jo={class:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"},Bo={class:"p-6"},Vo={class:"flex justify-between items-center mb-6"},Ao={class:"text-xl font-bold text-gray-900"},To={class:"grid grid-cols-1 gap-6"},Ho={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Do=["value"],Fo={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Uo={class:"flex items-center justify-between mb-2"},_o={class:"flex gap-1"},zo={class:"border border-gray-300 rounded-lg p-4 h-64 overflow-y-auto bg-gray-50"},Oo=["innerHTML"],qo={class:"flex justify-end gap-3 pt-6 border-t border-gray-200"},Io=["disabled"],No={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},Po={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ro={__name:"LessonFormModal",props:{lesson:{type:Object,required:!0,default:()=>({title:"",slug:"",description:"",content:"",language_id:"",order_index:0})},languages:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["close","save"],setup(n){const{renderMarkdown:g,markdownHelpers:s}=se(),c=f(null);return(d,o)=>(m(),v("div",So,[e("div",jo,[e("div",Bo,[e("div",Vo,[e("h2",Ao,b(n.lesson?.id?"Edit Lesson":"Create New Lesson"),1),e("button",{onClick:o[0]||(o[0]=t=>d.$emit("close")),class:"p-2 hover:bg-gray-100 rounded-lg transition"},[...o[13]||(o[13]=[e("svg",{class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:o[12]||(o[12]=te(t=>d.$emit("save"),["prevent"])),class:"space-y-6"},[e("div",To,[e("div",null,[o[14]||(o[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Title *",-1)),k(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>n.lesson.title=t),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Lesson title..."},null,512),[[C,n.lesson.title]])]),e("div",Ho,[e("div",null,[o[15]||(o[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Slug *",-1)),k(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>n.lesson.slug=t),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"lesson-slug..."},null,512),[[C,n.lesson.slug]]),o[16]||(o[16]=e("p",{class:"mt-1 text-sm text-gray-500"},"URL-friendly identifier",-1))]),e("div",null,[o[18]||(o[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Language *",-1)),k(e("select",{"onUpdate:modelValue":o[3]||(o[3]=t=>n.lesson.language_id=t),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[o[17]||(o[17]=e("option",{value:""},"Select a language",-1)),(m(!0),v(E,null,j(n.languages,t=>(m(),v("option",{key:t.id,value:t.id},b(t.name),9,Do))),128))],512),[[O,n.lesson.language_id]])])]),e("div",null,[o[19]||(o[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),k(e("textarea",{"onUpdate:modelValue":o[4]||(o[4]=t=>n.lesson.description=t),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Brief description of the lesson..."},null,512),[[C,n.lesson.description]])]),e("div",null,[o[26]||(o[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Content",-1)),e("div",Fo,[e("div",null,[e("div",Uo,[o[24]||(o[24]=e("span",{class:"text-sm font-medium text-gray-700"},"Markdown Editor",-1)),e("div",_o,[e("button",{type:"button",onClick:o[5]||(o[5]=t=>x(s).bold(c.value)),class:"p-1 text-sm font-bold text-gray-600 hover:bg-gray-100 rounded",title:"Bold"},[...o[20]||(o[20]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 6h16M3 12h16m-7 6h7"})],-1)])]),e("button",{type:"button",onClick:o[6]||(o[6]=t=>x(s).italic(c.value)),class:"p-1 text-sm italic text-gray-600 hover:bg-gray-100 rounded",title:"Italic"},[...o[21]||(o[21]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 4h12M6 20h12"})],-1)])]),e("button",{type:"button",onClick:o[7]||(o[7]=t=>x(s).code(c.value)),class:"p-1 text-sm font-mono text-gray-600 hover:bg-gray-100 rounded",title:"Code"},[...o[22]||(o[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})],-1)])]),e("button",{type:"button",onClick:o[8]||(o[8]=t=>x(s).link(c.value)),class:"p-1 text-sm text-gray-600 hover:bg-gray-100 rounded",title:"Link"},[...o[23]||(o[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})],-1)])])])]),k(e("textarea",{ref_key:"contentTextarea",ref:c,"onUpdate:modelValue":o[9]||(o[9]=t=>n.lesson.content=t),rows:"12",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Write your lesson content using Markdown..."},null,512),[[C,n.lesson.content]])]),e("div",null,[o[25]||(o[25]=e("div",{class:"flex items-center justify-between mb-2"},[e("span",{class:"text-sm font-medium text-gray-700"},"Live Preview")],-1)),e("div",zo,[e("div",{innerHTML:x(g)(n.lesson.content),class:"prose prose-sm max-w-none"},null,8,Oo)])])])]),e("div",null,[o[27]||(o[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Order Index",-1)),k(e("input",{"onUpdate:modelValue":o[10]||(o[10]=t=>n.lesson.order_index=t),type:"number",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Order in the course..."},null,512),[[C,n.lesson.order_index,void 0,{number:!0}]]),o[28]||(o[28]=e("p",{class:"mt-1 text-sm text-gray-500"},"Determines the display order (lower numbers come first)",-1))])]),e("div",qo,[e("button",{type:"button",onClick:o[11]||(o[11]=t=>d.$emit("close")),class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition"}," Cancel "),e("button",{type:"submit",disabled:n.loading,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"},[n.loading?(m(),v("svg",No,[...o[29]||(o[29]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(m(),v("svg",Po,[...o[30]||(o[30]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),M(" "+b(n.lesson?.id?"Update Lesson":"Create Lesson"),1)],8,Io)])],32)])])]))}},Wo=oe(Ro,[["__scopeId","data-v-07aa316c"]]),Jo={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Qo={class:"bg-white rounded-xl shadow-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto"},Xo={class:"p-6"},Yo={class:"flex justify-between items-center mb-6"},Go={class:"text-xl font-bold text-gray-900"},Ko={class:"grid grid-cols-1 gap-6"},Zo={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},es=["value"],ts={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},os={class:"flex items-center justify-between mb-2"},ss={class:"flex gap-1"},ns={class:"border border-gray-300 rounded-lg p-4 h-64 overflow-y-auto bg-gray-50"},rs=["innerHTML"],ls={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},is={class:"flex items-center justify-between mb-2"},as={class:"mt-4 p-4 bg-gray-50 rounded-lg"},ds={class:"bg-gray-900 text-gray-100 p-3 rounded font-mono text-sm overflow-x-auto"},us={class:"flex justify-end gap-3 pt-6 border-t border-gray-200"},gs=["disabled"],cs={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},ms={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ps={__name:"SectionFormModal",props:{section:{type:Object,required:!0,default:()=>({subtitle:"",content:"",code_example:"",example_id:"",lesson_id:"",order_index:0})},lessons:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["close","save"],setup(n){const{renderMarkdown:g,markdownHelpers:s}=se(),c=f(null),d=f(null);return(o,t)=>(m(),v("div",Jo,[e("div",Qo,[e("div",Xo,[e("div",Yo,[e("h2",Go,b(n.section?.id?"Edit Section":"Create New Section"),1),e("button",{onClick:t[0]||(t[0]=a=>o.$emit("close")),class:"p-2 hover:bg-gray-100 rounded-lg transition"},[...t[14]||(t[14]=[e("svg",{class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:t[13]||(t[13]=te(a=>o.$emit("save"),["prevent"])),class:"space-y-6"},[e("div",Ko,[e("div",Zo,[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Lesson *",-1)),k(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.section.lesson_id=a),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[15]||(t[15]=e("option",{value:""},"Select a lesson",-1)),(m(!0),v(E,null,j(n.lessons,a=>(m(),v("option",{key:a.id,value:a.id},b(a.title),9,es))),128))],512),[[O,n.section.lesson_id]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Order Index",-1)),k(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.section.order_index=a),type:"number",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Order in the lesson..."},null,512),[[C,n.section.order_index,void 0,{number:!0}]]),t[18]||(t[18]=e("p",{class:"mt-1 text-sm text-gray-500"},"Determines the display order",-1))])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Subtitle *",-1)),k(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.section.subtitle=a),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Section subtitle..."},null,512),[[C,n.section.subtitle]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Content",-1)),e("div",ts,[e("div",null,[e("div",os,[t[24]||(t[24]=e("span",{class:"text-sm font-medium text-gray-700"},"Markdown Editor",-1)),e("div",ss,[e("button",{type:"button",onClick:t[4]||(t[4]=a=>x(s).bold(c.value)),class:"p-1 text-sm font-bold text-gray-600 hover:bg-gray-100 rounded",title:"Bold"},[...t[20]||(t[20]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 6h16M3 12h16m-7 6h7"})],-1)])]),e("button",{type:"button",onClick:t[5]||(t[5]=a=>x(s).italic(c.value)),class:"p-1 text-sm italic text-gray-600 hover:bg-gray-100 rounded",title:"Italic"},[...t[21]||(t[21]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 4h12M6 20h12"})],-1)])]),e("button",{type:"button",onClick:t[6]||(t[6]=a=>x(s).code(c.value)),class:"p-1 text-sm font-mono text-gray-600 hover:bg-gray-100 rounded",title:"Code"},[...t[22]||(t[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})],-1)])]),e("button",{type:"button",onClick:t[7]||(t[7]=a=>x(s).link(c.value)),class:"p-1 text-sm text-gray-600 hover:bg-gray-100 rounded",title:"Link"},[...t[23]||(t[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})],-1)])])])]),k(e("textarea",{ref_key:"contentTextarea",ref:c,"onUpdate:modelValue":t[8]||(t[8]=a=>n.section.content=a),rows:"12",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Write your section content using Markdown..."},null,512),[[C,n.section.content]])]),e("div",null,[t[25]||(t[25]=e("div",{class:"flex items-center justify-between mb-2"},[e("span",{class:"text-sm font-medium text-gray-700"},"Live Preview")],-1)),e("div",ns,[e("div",{innerHTML:x(g)(n.section.content),class:"prose prose-sm max-w-none"},null,8,rs)])])])]),e("div",ls,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Code Example",-1)),e("div",is,[t[28]||(t[28]=e("span",{class:"text-sm text-gray-500"},"Code snippet for this section",-1)),e("button",{type:"button",onClick:t[9]||(t[9]=a=>x(s).codeBlock(d.value)),class:"p-1 text-sm font-mono text-gray-600 hover:bg-gray-100 rounded",title:"Add code block"},[...t[27]||(t[27]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})],-1)])])]),k(e("textarea",{ref_key:"codeExampleTextarea",ref:d,"onUpdate:modelValue":t[10]||(t[10]=a=>n.section.code_example=a),rows:"8",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Write your code example..."},null,512),[[C,n.section.code_example]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Example ID",-1)),k(e("input",{"onUpdate:modelValue":t[11]||(t[11]=a=>n.section.example_id=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"example-identifier..."},null,512),[[C,n.section.example_id]]),t[32]||(t[32]=e("p",{class:"mt-1 text-sm text-gray-500"},"Optional identifier for the code example",-1)),e("div",as,[t[30]||(t[30]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Code Example Preview",-1)),e("div",ds,[e("pre",null,[e("code",null,b(n.section.code_example||"No code example provided"),1)])])])])])]),e("div",us,[e("button",{type:"button",onClick:t[12]||(t[12]=a=>o.$emit("close")),class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition"}," Cancel "),e("button",{type:"submit",disabled:n.loading,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"},[n.loading?(m(),v("svg",cs,[...t[33]||(t[33]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(m(),v("svg",ms,[...t[34]||(t[34]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),M(" "+b(n.section?.id?"Update Section":"Create Section"),1)],8,gs)])],32)])])]))}},xs=oe(ps,[["__scopeId","data-v-32338941"]]),vs={class:"min-h-screen bg-gray-50"},bs={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ys={key:0,class:"flex justify-center items-center py-12"},fs={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},ws={class:"flex items-center"},hs={class:"text-red-800"},Ms={__name:"Learn",setup(n,{expose:g}){const{loading:s,error:c,languages:d,lessons:o,sections:t,analytics:a,currentLanguage:r,currentLesson:l,currentSection:w,fetchLanguages:S,fetchLessons:T,fetchSections:I,fetchAnalytics:V,createLanguage:N,updateLanguage:P,deleteLanguage:R,createLesson:W,updateLesson:A,deleteLesson:J,createSection:Q,updateSection:X,deleteSection:Y,setCurrentLanguage:G,setCurrentLesson:K,setCurrentSection:Z,resetCurrentItems:H,exportContent:ee}=je(),L=f("languages"),u=f(!1),i=f(!1),h=f(!1),pe=f({language:""}),xe=f({lesson:""});function ve(p){L.value=p,ne()}async function ne(){try{L.value==="languages"?await S():L.value==="lessons"?await re():L.value==="sections"?await le():L.value==="analytics"&&await V()}catch(p){console.error("Failed to load data:",p)}}async function re(p=pe.value){try{const y={};p.language&&(y.language_id=p.language),await T(y)}catch(y){console.error("Failed to load lessons:",y)}}async function le(p=xe.value){try{const y={};p.lesson&&(y.lesson_id=p.lesson),await I(y)}catch(y){console.error("Failed to load sections:",y)}}function ie(p=null){G(p),u.value=!0}function ae(){u.value=!1,H()}async function be(){try{r.value.id?await P(r.value.id,r.value):await N(r.value),ae()}catch(p){console.error("Failed to save language:",p)}}async function ye(p){if(confirm(`Are you sure you want to delete "${p.name}"? This action cannot be undone.`))try{await R(p.id)}catch(y){console.error("Failed to delete language:",y)}}function fe(p){ie(p)}function de(p=null){K(p||{title:"",description:"",language_id:"",order_index:0}),i.value=!0}function ue(){i.value=!1,H()}async function we(){try{l.value.id?await A(l.value.id,l.value):await W(l.value),ue()}catch(p){console.error("Failed to save lesson:",p)}}async function he(p){if(confirm(`Are you sure you want to delete "${p.title}"? This will also delete all sections in this lesson.`))try{await J(p.id)}catch(y){console.error("Failed to delete lesson:",y)}}function ke(p){de(p)}function ge(p=null){Z(p||{subtitle:"",content:"",code_example:"",example_id:"",lesson_id:"",order_index:0}),h.value=!0}function ce(){h.value=!1,H()}async function $e(){try{w.value.id?await X(w.value.id,w.value):await Q(w.value),ce()}catch(p){console.error("Failed to save section:",p)}}async function Ce(p){if(confirm(`Are you sure you want to delete "${p.subtitle}"? This action cannot be undone.`))try{await Y(p.id)}catch(y){console.error("Failed to delete section:",y)}}function Le(p){ge(p)}async function F(p){try{const y=await ee(p),Me=new Blob([JSON.stringify(y.data,null,2)],{type:"application/json"}),me=URL.createObjectURL(Me),D=document.createElement("a");D.href=me,D.download=`${p}-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(me),alert(`Exported ${y.total_records} ${p} successfully!`)}catch(y){console.error("Export failed:",y)}}return Se(()=>{ne()}),g({setActiveView:ve}),(p,y)=>(m(),v("div",vs,[e("main",bs,[x(s)?(m(),v("div",ys,[...y[0]||(y[0]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):x(c)?(m(),v("div",fs,[e("div",ws,[y[1]||(y[1]=e("svg",{class:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",hs,b(x(c)),1)])])):(m(),v(E,{key:2},[L.value==="languages"?(m(),B(Re,{key:0,languages:x(d),loading:x(s),onShowLanguageForm:ie,onEditLanguage:fe,onDeleteLanguage:ye,onExport:F},null,8,["languages","loading"])):L.value==="lessons"?(m(),B(vt,{key:1,lessons:x(o),languages:x(d),loading:x(s),onShowLessonForm:de,onEditLesson:ke,onDeleteLesson:he,onExport:F,onFilterChanged:re},null,8,["lessons","languages","loading"])):L.value==="sections"?(m(),B(It,{key:2,sections:x(t),lessons:x(o),loading:x(s),onShowSectionForm:ge,onEditSection:Le,onDeleteSection:Ce,onExport:F,onFilterChanged:le},null,8,["sections","lessons","loading"])):L.value==="analytics"?(m(),B(ao,{key:3,analytics:x(a),onExport:F},null,8,["analytics"])):_("",!0)],64)),u.value?(m(),B(Eo,{key:3,language:x(r),loading:x(s),onClose:ae,onSave:be},null,8,["language","loading"])):_("",!0),i.value?(m(),B(Wo,{key:4,lesson:x(l),languages:x(d),loading:x(s),onClose:ue,onSave:we},null,8,["lesson","languages","loading"])):_("",!0),h.value?(m(),B(xs,{key:5,section:x(w),lessons:x(o),loading:x(s),onClose:ce,onSave:$e},null,8,["section","lessons","loading"])):_("",!0)])]))}};export{Ms as default};
