import{h as a,K as p,u as y,p as b,j as r,k as t,q as m,t as l,o as u}from"./vendor-ynwioZzL.js";import{u as x}from"./useApi-CHwqytdG.js";import"./axios-CXavZ4ZS.js";import"./auth-ClvEPfAr.js";const h={class:"min-h-screen bg-gray-50 flex items-center justify-center p-4"},_={class:"max-w-sm w-full bg-white rounded-xl shadow-md p-6 text-center"},k={class:"text-xl font-semibold text-gray-900 mb-2"},w={class:"text-gray-600 mb-4"},V={key:0,class:"flex justify-center mb-4"},E={key:1,class:"text-sm text-gray-500 mb-4"},N={__name:"VerifyEmail",setup(j){const f=y(),c=b(),{get:v}=x(),o=a("Verifying your email..."),s=a(!0),i=a(5),d=a("");p(async()=>{const n=f.query.token;if(!n){o.value="No verification token provided.",d.value="Please check your verification link and try again.",s.value=!1;return}try{const e=await v(`/verify-email?token=${n}`);o.value=e.message||"Email verified successfully!"}catch(e){o.value="Verification failed",d.value=e.message||"Please try again or request a new verification email."}finally{s.value=!1;const e=setInterval(()=>{i.value--,i.value<=0&&(clearInterval(e),c.push("/login"))},1e3)}});const g=()=>{c.push("/login")};return(n,e)=>(u(),r("div",h,[t("div",_,[e[1]||(e[1]=t("div",{class:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4"},[t("i",{class:"fas fa-envelope text-blue-500 text-xl"})],-1)),t("h2",k,l(s.value?"Verifying Email":"Verification Complete"),1),t("p",w,l(o.value),1),s.value?(u(),r("div",V,[...e[0]||(e[0]=[t("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"},null,-1)])])):m("",!0),s.value?m("",!0):(u(),r("div",E," Redirecting in "+l(i.value)+" seconds... ",1)),t("button",{onClick:g,class:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors"}," Go to Login ")])]))}};export{N as default};
